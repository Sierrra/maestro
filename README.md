# Проект Маэстро


Сайт: https://maestro.fun/


### Описание
Сайт, куда можно загрузить 5 секундный сэмпл исполнения классической музыки. По нему выдается топ 5 наиболее похожих произведений с указанием автора и возможностью скачивания треков.

Данные: The MAESTRO Dataset

### Составные части

#### Фронтенд
Веб API, написанное на React, позволяющее загружать аудио в формате *.wav и получать рекомендации в ответ от бэкенда.

#### Бэкенд
1. REST API на Go, получающее запросы от React
    * _"POST /get_similar?n=< n>"_ - в теле запроса загружаемый сэмпл. Если такой уже встречался ранее в последних запросах (здесь проверка по хэшу), то результат забирается из кэша, если нет - запрос отправляется далее в ранкер.
    * _"GET /audio?id=< id>"_ - отдать аудиозапись по id
2. Ранкер на C++. Получает запросы от Go, обрабатывает аудиозапись и отдает список рекомендаций.
    * _"POST /get_similar?n=< n>&path=< path>"_ - с указанием числа требуемых рекомандаций и пути до аудиозаписи на диске. Отображает сэмпл в признаковое пространство для приближенного поиска ближайших соседей и возвращает id топ n соседей.
3. Redis для хранения индекса и кеша запросов
4. SQL база для хранения метаинформации по аудио файлам.

Также есть индексатор на Python, обрабатывающий имеющиеся аудиозаписи и заливающий индекс в Redis по cron.


### Авторы
Моргунова Ольга

Чепарухин Сергей



### Процесс сборки
Вам понадобится docker-compose и немного терпения.

docker-compose up -d